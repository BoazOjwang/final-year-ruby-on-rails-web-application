<p id="notice"><%= notice %></p>

<h1>Appointments</h1>

<div class="border shadow rounded bg-white px-3">
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Patient</th>
        <th>Doctor</th>
        <th>Reason</th>
        <th>Time</th>
        <th>Status</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @appointments.each do |appointment| %>
        <tr>
          <td><%= User.find(appointment.patient_id).username %></td>
          <td><%= User.find(appointment.doctor_id).username %></td>
          <td><%= appointment.reason %></td>
          <td><%= appointment.time.strftime('%d %B %Y') %></td>
          <td><%= appointment.status %></td>
          <td><%= link_to 'Show', appointment %></td>
          <td><%= link_to 'Edit', edit_appointment_path(appointment) %></td>
          <td><%= link_to 'Destroy', appointment, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<br>

<%= link_to 'New Appointment', new_appointment_path %>
